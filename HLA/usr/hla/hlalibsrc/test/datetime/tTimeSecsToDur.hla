program secsToDur_test;
#include( "stdlib.hhf" )

static
	hours		:word;
	mins		:byte;
	secs		:byte;
		
	incHours	:word;
	incMins		:byte;
	incSecs		:byte;
		
	seconds		:dword;
	endSeconds	:dword;		
	
begin secsToDur_test;


	mov( 0, seconds );
	mov( 100*60*60*24, endSeconds );
	mov( 0, incHours );
	mov( 0, incMins );
	mov( 0, incSecs );
		 
	while( mov( endSeconds, eax ) >= seconds ) do
	
		time.secsToDuration( seconds, hours, mins, secs );
		mov( incHours, ax );
		mov( incMins, bl );
		mov( incSecs, bh );
		
		if( ax <> hours || bl <> mins || bh <> secs ) then
		
			stderr.put
			( 
				nl nl 
				"***************************************************" nl
				"time.secsToDur failed!", nl,
				"seconds   = ", seconds, nl
				"hmsToSecs = ", eax, nl
				"***************************************************" nl
				nl 
			);
			stdout.put( "Press Enter to Continue: " );
			stdin.readLn();
			os.exitProcess(1);
			
		endif;
		inc( seconds );
		inc( incSecs );
		if( incSecs >= 60 ) then
		
			mov( 0, incSecs );
			inc( incMins );
			if( incMins >= 60 ) then
			
				mov( 0, incMins );
				inc( incHours );
				
			endif;
			
		endif;
		
	endwhile;
	stderr.put( "time.secsToDur succeeded!" nl );
	os.exitProcess(0);
		
end secsToDur_test;

													