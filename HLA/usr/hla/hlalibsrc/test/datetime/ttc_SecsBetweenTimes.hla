program secsBetweenTimes_test;
#include( "stdlib.hhf" )

static
	time1		:timeClass;
	time2		:timeClass;
	seconds1	:dword;
	seconds2	:dword;
	
	difference	:dword;
	
begin secsBetweenTimes_test;

	time1.create();
	time2.create();
	for( mov( 0, seconds1); seconds1 < 60*60*24; add( 17, seconds1 )) do
	
		time1.fromSecs( seconds1 );	
		for( mov( 0, seconds2 ); seconds2 < 60*60*24; inc( seconds2 )) do
		
			time2.fromSecs( seconds2 );
			time1.secsBetweenTimes( time2.theTime );
			mov( eax, ebx );
			time2.secsBetweenTimes( time1.theTime );
			mov( seconds2, ecx );
			sub( seconds1, ecx );
			if( @s ) then
			
				neg( ecx );
				
			endif;
				
			if( eax <> ebx || ebx <> ecx ) then
			
				stderr.put
				( 
					nl nl 
					"***************************************************" nl
					"timeClass.secsBetweenTimes failed!", nl,
					"seconds1   = ", seconds1, nl
					"seconds2   = ", seconds2, nl
					"eax = ", eax, nl
					"ebx = ", ebx, nl 
					"ecx = ", ecx, nl
					"***************************************************" nl
					nl 
				);
				stdout.put( "Press Enter to Continue: " );
				stdin.readLn();
				os.exitProcess(1);
				
			endif;
			
		endfor;

	endfor;
	stderr.put( "timeClass.secsBetweenTimes succeeded!" nl );
	os.exitProcess(0);
		
end secsBetweenTimes_test;

													