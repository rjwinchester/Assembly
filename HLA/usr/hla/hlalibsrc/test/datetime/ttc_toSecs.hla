program tosecs_test;
#include( "stdlib.hhf" )

static
	incTime		:timeClass;
	endTime		:time.timerec;
	seconds		:dword;		
	
begin tosecs_test;

	incTime.create();
	mov( 0, seconds );
	mov( 0, incTime.theTime );
	mov( 60*60*24, endTime );
		 
	while( mov( endTime, eax ) >= (type dword incTime.theTime) ) do
	
		incTime.toSecs();
		if( eax <> seconds ) then
		
			stderr.put
			( 
				nl nl 
				"***************************************************" nl
				"timeClass.toSecs failed!", nl,
				"seconds   = ", seconds, nl
				"toSecs = ", eax, nl
				"***************************************************" nl
				nl 
			);
			stdout.put( "Press Enter to Continue: " );
			stdin.readLn();
			os.exitProcess(1);
			
		endif;
		inc( seconds );
		inc( incTime.theTime.secs );
		if( incTime.theTime.secs >= 60 ) then
		
			add( 256-60, incTime.theTime );
			if( incTime.theTime.mins >= 60 ) then
			
				add( (256-60)*256, incTime.theTime );
				
			endif;
			
		endif;
		
	endwhile;
	stderr.put( "timeClass.toSecs succeeded!" nl );
	os.exitProcess(0);
		
end tosecs_test;

													