program rangeChar_test;
#include( "stdlib.hhf" )

		
const
	cs1_c :cset[] :=
		[
			#for( i := 0 to 126 )
				 {char(0)..char(i)},
			#endfor
			{ #0..#$7f }
		];
		
	cs2_c :cset[] :=
		[
			#for( i := 0 to 126 )
				 {char(i)..char(127)},
			#endfor
			{ #$7f..#$7f }
		];
		
		
static
	cstest		:cset;
	cs1 		:cset[ @elements( cs1_c ) ] := cs1_c;
	cs2 		:cset[ @elements( cs2_c ) ] := cs2_c;
	
begin rangeChar_test;

	for( mov( 0, ecx ); ecx<@elements( cs1_c ); inc(ecx) )do
	
		intmul( @size( cset ), ecx, edx );
		cs.rangeChar( #0, cl, cstest );
		if( cs.ne( cstest, cs1[edx]) ) then
		
			stderr.put
			( 
				nl nl 
				"***************************************************" nl
				"cs.rangeChar #1 failed!  ecx=", ecx, nl,										
				"***************************************************" nl
				nl 
			);
			stdout.put( "Press Enter to Continue: " );
			stdin.readLn();
			os.exitProcess(1);

		endif;
			
		cs.rangeChar( cl, #127, cstest );
		if( cs.ne( cstest, cs2[edx]) ) then
		
			stderr.put
			( 
				nl nl 
				"***************************************************" nl
				"cs.rangeChar #2 failed!  ecx=", ecx, nl,										
				"***************************************************" nl
				nl 
			);
			stdout.put( "Press Enter to Continue: " );
			stdin.readLn();
			os.exitProcess(1);

		endif;
			
			
	endfor;
	stderr.put( "cs.rangeChar succeeded!" nl );
	os.exitProcess(0);
		
end rangeChar_test;

													